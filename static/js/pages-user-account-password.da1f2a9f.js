(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-account-password"],{"0e87":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={partWindowLayout:n("6ab6").default,partNavilink:n("9eb4").default,uniForms:n("b553").default,uniFormsItem:n("80e4").default,uniEasyinput:n("11cc").default,uniIcons:n("a4a1").default},s=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("part-window-layout",[a("v-uni-view",{staticClass:"window-page-750"},[a("part-navilink",{attrs:{linkList:[{target:"ume",name:t.wo.ll({zhCN:"我的个人中心",enUS:"My Personal Center"})},{target:"user-account_",name:"登录账号"}]}}),a("uni-forms",{ref:"form",attrs:{"label-position":"top","label-width":"500","validate-trigger":"bind",rules:{passwordOld:{rules:[{required:!0,errorMessage:"请输入原密码"},{minLength:6,errorMessage:"密码长度至少为6"}]},password:{rules:[{required:!0,errorMessage:"请输入新密码"},{minLength:6,errorMessage:"密码长度至少为6"},{validateFunction:function(t,n,a,s){return e.passwordOld!==e.password},errorMessage:"新密码不能和原密码相同"}]},passwordAgain:{rules:[{required:!0,errorMessage:"请再次输入新密码"},{minLength:6,errorMessage:"密码长度至少为6"},{validateFunction:function(t,n,a,s){return e.password===e.passwordAgain},errorMessage:"新密码的两次输入不一致"}]}}}},[a("uni-forms-item",{staticStyle:{padding:"40rpx 0"},attrs:{name:"passwordOld",label:t.wo.ll({zhCN:"原密码",enUS:"Old Password"})}},[a("uni-easyinput",{staticClass:"letter-spacing-12px wo-bg-color-fg",attrs:{type:"password",placeholderStyle:"letter-spacing: initial; font-size:20px;",onkeypress:"if(event.keyCode===32) {\n            event.returnValue=false\n            wo.showToast({type:wo.c2t.RED, title: wo.ll({zhCN:'密码不能含有空格',enUS:'Space is disallowed in password'})})\n          }",focus:t.focusList[0]},nativeOn:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;arguments[0]=e=t.$handleEvent(e),t.wo.next_focus(0)}},model:{value:t.passwordOld,callback:function(e){t.passwordOld=e},expression:"passwordOld"}})],1),a("uni-forms-item",{staticStyle:{padding:"40rpx 0"},attrs:{name:"password",label:t.wo.ll({zhCN:"新密码",enUS:"New Password"})}},[a("uni-easyinput",{staticClass:"letter-spacing-12px wo-bg-color-fg",attrs:{type:"password",placeholderStyle:"letter-spacing: initial; font-size:20px;",onkeypress:"if(event.keyCode===32) {\n            event.returnValue=false\n            wo.showToast({type:wo.c2t.RED, title: wo.ll({zhCN:'密码不能含有空格',enUS:'Space is disallowed in password'})})\n          }",focus:t.focusList[1]},nativeOn:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;arguments[0]=e=t.$handleEvent(e),t.wo.next_focus(1)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("uni-forms-item",{staticStyle:{padding:"40rpx 0"},attrs:{name:"passwordAgain",label:t.wo.ll({zhCN:"确认新密码",enUS:"Confirm New Password"})}},[a("uni-easyinput",{staticClass:"letter-spacing-12px wo-bg-color-fg",attrs:{type:"password",placeholderStyle:"letter-spacing: initial; font-size:20px;",onkeypress:"if(event.keyCode===32) {\n            event.returnValue=false\n            wo.showToast({type:wo.c2t.RED, title: wo.ll({zhCN:'密码不能含有空格',enUS:'Space is disallowed in password'})})\n          }",focus:t.focusList[2]},nativeOn:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;arguments[0]=e=t.$handleEvent(e),t.to_change_password.apply(void 0,arguments)}},model:{value:t.passwordAgain,callback:function(e){t.passwordAgain=e},expression:"passwordAgain"}})],1),a("uni-forms-item",{staticStyle:{padding:"40rpx 0"}},[a("v-uni-button",{staticClass:"wo-bg-color-blue-default wo-text-color-grey-f",attrs:{loading:t.isLoading,disabled:t.isLoading||!t.passwordOld||!t.password||!t.passwordAgain},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.to_change_password.apply(void 0,arguments)}}},[a("uni-icons",{staticStyle:{color:"unset"},attrs:{type:"checkmarkempty",size:"22"}}),t._v(t._s(t.wo.ll({zhCN:"更换密码",enUS:"Change Password"})))],1),a("v-uni-view",{staticClass:"formitem-feedback bad-message at-center",class:{"good-message":t.goodMessageFeedback}},[t._v(t._s(t.badMessageFeedback||t.goodMessageFeedback))])],1)],1)],1)],1)},o=[]},"2ef6":function(e,t,n){"use strict";n.r(t);var a=n("0e87"),s=n("f9a3");for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var r=n("f0c5"),i=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"557c66c0",null,!1,a["a"],void 0);t["default"]=i.exports},"5c9e":function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("c7eb")),o=a(n("1da1"));n("dca8");var r={data:function(){return{i18nPageTitle:Object.freeze({zhCN:"修改密码",enUS:"Change Password"}),passwordOld:"",password:"",passwordAgain:"",isLoading:!1,focusList:{0:!0,1:!1,2:!1},goodMessageFeedback:"",badMessageFeedback:""}},computed:{},onShow:function(){wo.tt.relaunch_unknown_user()},methods:{to_change_password:function(){var e=this;return(0,o.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.goodMessageFeedback="",e.badMessageFeedback="",e.$refs.form.validate().then(function(){var t=(0,o.default)((0,s.default)().mark((function t(n){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,wo.callBase({apiWho:"User",apiTodo:"changePassword",apiWhat:{passwordClient:wo.hash_easy(e.passwordOld+wo.ss.User.onlineUser.usid),passwordNewClient:wo.hash_easy(e.password+wo.ss.User.onlineUser.usid)}});case 3:a=t.sent,e.isLoading=!1,"SUCCESS"===a._state?(uni.removeStorageSync("_passtoken"),uni.setStorageSync("_passtoken",a._passtoken),e.passwordOld=e.password=e.passwordAgain="",uni.showModal({title:"密码已成功修改",content:"今后请使用新密码登录",showCancel:!1,confirmText:"我知道了",success:function(e,t){e&&uni.navigateBack()}})):"PASSWORD_UNMATCH"===a._state?e.badMessageFeedback=wo.ll({zhCN:"原密码不匹配，请重新输入",enUS:""}):e.badMessageFeedback=wo.ll({zhCN:"密码修改不成功，请稍后再试",enUS:""});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){})),wo.next_focus(2);case 4:case"end":return t.stop()}}),t)})))()}}};t.default=r},"6db8":function(e,t,n){"use strict";n.r(t);var a=n("9f21"),s=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=s.a},"9eb4":function(e,t,n){"use strict";n.r(t);var a=n("d66c"),s=n("6db8");for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var r=n("f0c5"),i=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"f34bd176",null,!1,a["a"],void 0);t["default"]=i.exports},"9f21":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("caad"),n("2532"),n("d81d");var a={props:{linkList:{type:Array,default:[]}},data:function(){return{}},computed:{},mounted:function(){},methods:{jump_to:function(e){var t=e.target,n=e.type;n=n||wo.pagesJson.tabBar.list.map((function(e){return e.pagePath.substr(6)})).includes(t)?"switchTab":"navigateTo",uni[n]({url:t})}}};t.default=a},d66c:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.wo.envar.onPC?n("v-uni-view",{staticStyle:{display:"flex","flex-flow":"row wrap",margin:"40px 0 0 0"},attrs:{id:"面包屑导航"}},[e._l(e.linkList,(function(t,a){return n("v-uni-view",{key:a},[n("v-uni-text",{staticStyle:{margin:"0 10px"}},[e._v("/")]),n("v-uni-text",{staticClass:"wo-text-color-blue-matt",staticStyle:{"font-style":"italic",cursor:"pointer"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.jump_to(t)}}},[e._v(e._s(e.wo.ll(t.name)))])],1)})),n("v-uni-view",[n("v-uni-text",{staticStyle:{margin:"0 10px"}},[e._v("/")]),n("v-uni-text",{staticStyle:{"font-style":"italic"}},[e._v(e._s(e.wo.ll(e.wo.thisPage().i18nPageTitle)))])],1)],2):e._e()},s=[]},f9a3:function(e,t,n){"use strict";n.r(t);var a=n("5c9e"),s=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=s.a}}]);