(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-_ident-old-login"],{"053d":function(e,t,n){"use strict";n.r(t);var o=n("cefa"),a=n("0883");for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);var r=n("f0c5"),i=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"a9e3d576",null,!1,o["a"],void 0);t["default"]=i.exports},"0883":function(e,t,n){"use strict";n.r(t);var o=n("c8de"),a=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=a.a},c8de:function(e,t,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("c7eb")),s=o(n("1da1"));n("dca8"),n("ac1f"),n("00b4");var r={data:function(){return{i18nPageTitle:Object.freeze({zhCN:"登录",enUS:"Login"}),isLoading:!1,activeTab:"TAB_PASSWORD",password:"",focusOne:!0,feedbackRemote:""}},computed:{},onLoad:function(){wo.tt.relaunch_identified_user()},onShow:function(){var e=this;this.focusOne=!1,setTimeout((function(){return e.focusOne=!0}),100)},methods:{to_log_in:function(){var e=this;return(0,s.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.feedbackRemote="","TAB_PASSWORD"===e.activeTab?(e.$refs.form.validate().then(function(){var t=(0,s.default)((0,a.default)().mark((function t(n){var o,s,r,i,l;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,wo.callBase({apiWho:"User",apiTodo:"login",apiWhat:{phone:wo.ss.Ident.phone,passwordClient:wo.hash_easy(e.password+wo.ss.Ident.usid)}});case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:o=t.t0,s=o._state,r=o.onlineUser,i=o._passtoken,l=o.uni_id_token,e.isLoading=!1,"LOGIN_SUCCESS"===s&&i?(wo.cclog("LOGIN_SUCCESS"),uni.setStorageSync("_passtoken",i),uni.setStorageSync("uni_id_token",l),wo.unisocket.sendObject({skevent:"SOCKET_OWNER",_passtoken:i}),wo.ss.User.onlineUser=r,r&&r.lang&&(wo.ss.i18n.mylang=r.lang,uni.setStorageSync("mylang",wo.ss.i18n.mylang)),uni.reLaunch({url:"explore"})):"LOGIN_FAILED_WRONG_PASSWORD"===s?(wo.ccerror(wo.ll({zhCN:"密码错误，请重新输入",enUS:"Password unmatched"})),e.feedbackRemote=wo.ll({zhCN:"密码错误，请重新输入",enUS:"Password unmatched"})):"LOGIN_FAILED_USER_NOTEXIST"===s?(wo.ccerror(wo.ll({zhCN:"该手机号用户不存在",enUS:"User not exist"})),e.feedbackRemote=wo.ll({zhCN:"该手机号用户不存在",enUS:"User not exist"})):"LOGIN_FAILED"===s?(wo.ccerror(wo.ll({zhCN:"登录失败",enUS:"Login failed"})),e.feedbackRemote(wo.ll({zhCN:"登录失败",enUS:"Login failed"}))):(wo.ccerror(wo.ll({zhCN:"后台错误",enUS:"Server response error"})),e.feedbackRemote(wo.ll({zhCN:"后台错误",enUS:"Server response error"})));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){})),e.focusOne=!1,setTimeout((function(){e.focusOne=!0}),200)):"TAB_PASSCODE"===e.activeTab&&(/^\d{6}$/.test(wo.ss.Ident.passcode)||wo.showToast({type:wo.c2t.RED,title:wo.ll({zhCN:"口令格式错误",enUS:"Malformed passcode"})}));case 2:case"end":return t.stop()}}),t)})))()}}};t.default=r},cefa:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var o={partWindowLayout:n("1f23").default,uniForms:n("0862").default,uniFormsItem:n("b200").default,uniEasyinput:n("0c37").default,uniIcons:n("e539").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("part-window-layout",[n("v-uni-view",{staticClass:"window-page-750 window-page-ident"},[e.wo.envar.onPC?e._e():n("v-uni-view",{staticClass:"logo-ident"}),n("v-uni-text",{class:{"wo-text-color-red-default":!e.wo.ss.Ident.phone},staticStyle:{margin:"40px 0 40rpx 0","text-align":"center","font-size":"20px","padding-bottom":"22px"}},[e._v(e._s(e.wo.ss.Ident.phone||e.wo.ll({zhCN:"手机号不存在！",enUS:"Phone number is empty!"})))]),n("uni-forms",{ref:"form",attrs:{"label-position":"left","validate-trigger":"submit",rules:{password:{rules:[{required:!0,errorMessage:"请输入密码"},{minLength:6,errorMessage:e.wo.ll({zhCN:"密码长度至少为6",enUS:"Password length must be 6 or more"})}]}}}},[n("uni-forms-item",{staticStyle:{padding:"40rpx 0"},attrs:{name:"password"}},[n("uni-easyinput",{staticClass:"letter-spacing-12px wo-bg-color-fg",attrs:{type:"password",focus:e.focusOne,placeholder:e.wo.ll({zhCN:"请输入您的密码",enUS:"Enter your password please"}),placeholderStyle:"letter-spacing: initial; font-size:20px;",onkeypress:"if(event.keyCode===32) {\n            event.returnValue=false\n            wo.showToast({type:wo.c2t.RED, title: wo.ll({zhCN:'密码不能含有空格',enUS:'Space is disallowed in password'})})\n          }"},nativeOn:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;arguments[0]=t=e.$handleEvent(t),e.to_log_in.apply(void 0,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("uni-forms-item",{staticStyle:{padding:"40rpx 0"}},[n("v-uni-button",{staticClass:"wo-bg-color-main wo-text-color-white",attrs:{loading:e.isLoading,disabled:e.isLoading||!e.password},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.to_log_in.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"auth",color:"unset",size:"22"}}),e._v(e._s(e.wo.ll({zhCN:"登 录",enUS:"Submit"})))],1),n("v-uni-view",{staticClass:"formitem-feedback bad-message at-center"},[e._v(e._s(e.feedbackRemote))])],1)],1),n("v-uni-navigator",{staticClass:"wo-text-color-blue-dark",staticStyle:{"font-size":"small","font-style":"italic",padding:"10px 15px","border-radius":"20px",margin:"80rpx 0rpx","align-self":"flex-end"},attrs:{url:"_ident-old-passcode"}},[e._v(e._s(e.wo.ll({zhCN:"忘了密码？重新设置",enUS:"Forgot password?"})))])],1)],1)},s=[]}}]);